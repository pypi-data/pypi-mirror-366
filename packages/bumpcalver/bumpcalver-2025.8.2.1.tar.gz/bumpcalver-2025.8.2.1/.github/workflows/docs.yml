# name: Documentation

# on:
#   push:
#     branches: [ main, master, dev ]
#   pull_request:
#     branches: [ main, master ]

# jobs:
#   deploy-docs:
#     runs-on: ubuntu-latest
#     if: github.event_name == 'push'

#     steps:
#     - uses: actions/checkout@v4
#       with:
#         fetch-depth: 0  # Fetch all history for mike to work properly

#     - name: Set up Python
#       uses: actions/setup-python@v4
#       with:
#         python-version: '3.12'

#     - name: Install dependencies
#       run: |
#         python -m pip install --upgrade pip
#         pip install -r requirements.txt
#         pip install mike

#     - name: Configure Git user
#       run: |
#         git config user.name "GitHub Actions"
#         git config user.email "actions@github.com"

#     - name: Prepare documentation files
#       run: |
#         python3 scripts/update_docs.py
#         python3 scripts/changelog.py
#         cp README.md docs/index.md
#         cp CONTRIBUTING.md docs/contribute.md
#         cp CHANGELOG.md docs/release-notes.md

#     - name: Deploy development documentation
#       if: github.ref == 'refs/heads/dev'
#       run: |
#         python3 scripts/deploy_docs.py deploy --dev --version dev --push

#     - name: Deploy latest documentation
#       if: github.ref == 'refs/heads/main' || github.ref == 'refs/heads/master'
#       run: |
#         # Only deploy as latest if this is not a tagged release
#         # Tagged releases are handled by pythonpublish.yml
#         python3 scripts/deploy_docs.py deploy --push

#   test-docs:
#     runs-on: ubuntu-latest

#     steps:
#     - uses: actions/checkout@v4

#     - name: Set up Python
#       uses: actions/setup-python@v4
#       with:
#         python-version: '3.12'

#     - name: Install dependencies
#       run: |
#         python -m pip install --upgrade pip
#         pip install -r requirements.txt
#         pip install mike

#     - name: Prepare documentation files
#       run: |
#         python3 scripts/update_docs.py
#         python3 scripts/changelog.py
#         cp README.md docs/index.md
#         cp CONTRIBUTING.md docs/contribute.md
#         cp CHANGELOG.md docs/release-notes.md

#     - name: Test documentation build
#       run: |
#         mkdocs build --strict

#     - name: Test mike deployment (dry run)
#       run: |
#         # Test the deployment script without actually deploying
#         python3 scripts/deploy_docs.py deploy --version test-version
