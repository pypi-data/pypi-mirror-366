'\" t
.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "MUTT-OAUTH2" "1" "May 18, 2025" "0.1.1" "mutt-oauth2"
.SH NAME
mutt-oauth2 \- mutt-oauth2 v0.1.1
.sp
This is an update of \X'tty: link https://github.com/muttmua/mutt/blob/master/contrib/mutt_oauth2.py'\fI\%Alexander Perlis\(aq script\fP\X'tty: link'
and conversion to a package. Instead of using GPG for token storage, this package uses Keyring.
.SH COMMANDS
.SS mutt\-oauth2
.sp
Obtain and print a valid OAuth2 access token.
.INDENT 0.0
.INDENT 3.5
.sp
.EX
mutt\-oauth2 [OPTIONS]
.EE
.UNINDENT
.UNINDENT
.sp
Options
.INDENT 0.0
.TP
.B \-a, \-\-authorize
Manually authorise new tokens.
.UNINDENT
.INDENT 0.0
.TP
.B \-d, \-\-debug
Enable debug logging.
.UNINDENT
.INDENT 0.0
.TP
.B \-t, \-\-test
Test authentication.
.UNINDENT
.INDENT 0.0
.TP
.B \-u, \-\-username <username>
Keyring username.
.UNINDENT
.INDENT 0.0
.TP
.B \-v, \-\-verbose
Enable verbose logging.
.UNINDENT
.SH USAGE
.sp
Start by calling \fBmutt\-oauth2 \-a\fP\&. Be sure to have your client ID and and client secret available.
.SS Scopes required
.TS
box center;
l|l.
T{
Provider
T}	T{
Scopes
T}
_
T{
Gmail
T}	T{
Gmail API
T}
_
T{
Microsoft
T}	T{
offline_access IMAP.AccessAsUser.All POP.AccessAsUser.All SMTP.Send
T}
.TE
.sp
To support other accounts, use the \fB\-\-username\fP argument with a unique string such as the account
email address.
.sp
Test the script with the \fB\-\-test\fP argument.
.SS mutt configuration
.sp
Add the following to \fBmuttrc\fP:
.INDENT 0.0
.INDENT 3.5
.sp
.EX
set imap_authenticators=\(dqoauthbearer:xoauth2\(dq
set imap_oauth_refresh_command=\(dq/path/to/mutt\-oauth2\(dq
set smtp_authenticators=${imap_authenticators}
set smtp_oauth_refresh_command=${imap_oauth_refresh_command}
.EE
.UNINDENT
.UNINDENT
.SH AUTHOR
Andrew Udvare <audvare@gmail.com>
.SH COPYRIGHT
2025
.\" Generated by docutils manpage writer.
.
