[project]
name = "gmri2fem"
authors = [{ name = "JÃ¸rgen Riseth", email = "jnriseth@gmail.com" }]
version = "0.2.8"
requires-python = ">=3.11,<3.13"
description = "Processing pipeline for glymphatic MRI."
readme = "README.md"
license = "MIT"
license-files = ["LICENSE"]
dependencies = [
  "loguru",
  "matplotlib",
  "meshio",
  "nibabel",
  "numpy",
  "pint",
  "pydicom",
  "pymeshfix",
  "scikit-image",
  "scipy",
  "tqdm",
  "simple-mri>=0.1.6",
  "panta-rhei>=0.7.0",
  "click",
  "vtk",
  "pyvista[all]",
]

[project.scripts]
gmri2fem = "_cli:gmri2fem"

[project.urls]
Homepage = "https://github.com/jorgenriseth/gMRI2FEM.git"

[build-system]
requires = ["setuptools"]
build-backend = "setuptools.build_meta"

[tool.setuptools]
package-dir = { "" = "src" }

[tool.mypy]
plugins = "numpy.typing.mypy_plugin"

[tool.pixi.project]
channels = [
  "conda-forge/label/fenics-dev",
  "conda-forge",
  "jorgenriseth",
  "bioconda",
  "https://fsl.fmrib.ox.ac.uk/fsldownloads/fslconda/public",
]
platforms = ["linux-64"]

[tool.pixi.pypi-dependencies]
gmri2fem = { path = ".", editable = true }

[tool.pixi.tasks]

[tool.pixi.dependencies]
fenics = ">=2019.2.0.dev20240219,<2020"
svmtk = ">=1.3.0"
h5py = ">=3.12.1,<4"
fsl-eddy = ">=2401.2,<2402"
fsl-topup = ">=2203.5,<2204"
fsl-fdt = ">=2202.11,<2203"
fsl-bet2 = ">=2111.8,<2112"

[tool.pixi.activation]
env = { FSLDIR = "$CONDA_PREFIX", FSLOUTPUTTYPE = "NIFTI_GZ" }
