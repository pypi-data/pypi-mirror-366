import{r as o,aK as h,b6 as i,j as e,b7 as k,bq as g,b5 as R,b8 as C}from"./index.BoCDcTI_.js";import{c as x}from"./createDownloadLinkElement.ZaXNnPK4.js";function E(d){const{disabled:c,element:l,widgetMgr:u,endpoints:t,fragmentId:f}=d,{help:m,label:B,icon:b,ignoreRerun:w,type:s,url:r}=l,{libConfig:{enforceDownloadInNewTab:D=!1}}=o.useContext(h);let n=i.SECONDARY;s==="primary"?n=i.PRIMARY:s==="tertiary"&&(n=i.TERTIARY);const a=o.useMemo(()=>t.buildDownloadUrl(r),[t,r]);o.useEffect(()=>{t.checkSourceUrlResponse(a,"Download Button")},[a,t]);const p=()=>{w||u.setTriggerValue(l,{fromUi:!0},f),x({filename:"",url:a,enforceDownloadInNewTab:D}).click()};return e("div",{className:"stDownloadButton","data-testid":"stDownloadButton",children:e(k,{help:m,containerWidth:!0,children:e(g,{kind:n,size:R.SMALL,disabled:c,onClick:p,containerWidth:!0,children:e(C,{icon:b,label:B})})})})}const A=o.memo(E);export{A as default};
