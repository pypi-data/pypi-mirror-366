[project]
name = "beancount-budget"
authors = [
  { name="Antonio Gurgel", email="antonio@goorzhel.com" },
]
dynamic = ["version"]
dependencies = [
    "beancount >= 2.3",
    "python-dateutil ~= 2.7",
    "click ~= 8.0",
]
description = "CLI envelope budget powered by Beancount"
readme = "README.md"
requires-python = ">= 3.12"
classifiers = [
    "Programming Language :: Python :: 3",
    "License :: OSI Approved :: GNU General Public License v2 (GPLv2)",
    "Operating System :: OS Independent",
]
license = "GPL-2.0-only"
license-files = ["LICENSE"]

[build-system]
requires = ["hatchling", "hatch-vcs"]
build-backend = "hatchling.build"

[tool.hatch.version]
source = "vcs"

[project.optional-dependencies]
dev = [
    "beancount-stubs >= 0.1.4",
    "pytest >= 8.0",
    # "pytest-beartype",
    "pytest-cov >= 4.1",
    "pytest-datafiles >= 3.0",
    "types-python-dateutil",
]

[project.urls]
Homepage = "https://git.sr.ht/~goorzhel/beancount-budget"

[project.scripts]
budget = "beancount_budget.__main__:main"

[tool.pytest.ini_options]
minversion = 8.0
testpaths = ["tests"]
# Subscriptable PEP 695 `type`s trip up Beartype.
# https://github.com/beartype/beartype/issues/463
# addopts = "--beartype-packages=beancount_budget"

[tool.mypy]
enable_incomplete_feature = "NewGenericSyntax"

[tool.coverage.run]
omit = ["beancount_budget/__main__.py"]
