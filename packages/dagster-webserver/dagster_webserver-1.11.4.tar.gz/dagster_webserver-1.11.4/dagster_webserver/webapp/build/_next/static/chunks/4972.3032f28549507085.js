(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4972],{54972:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MergedAutomationRoot:()=>tS,default:()=>tw});var s=n(6029),r=n(83150),o=n(53451),i=n(33658),a=n(3066),l=n(87931),c=n(83007),d=n(43697),u=n(1806),h=n(40264),p=n(55729),m=n(17970),x=n(9754),j=n(83655),g=n(44557),f=n(91232),v=n(41499),y=n(85347),S=n(76655);let w={step:"initial",completion:{completed:0,errors:{}}},k=(e,t)=>{switch(t.type){case"reset":return w;case"start":return{...e,step:"updating"};case"update-success":{let{completion:t}=e;return{step:"updating",completion:{...t,completed:t.completed+1}}}case"update-error":{let{completion:n}=e;return{step:"updating",completion:{...n,completed:n.completed+1,errors:{...n.errors,[t.name]:t.error}}}}case"complete":return{...e,step:"completed"}}},b=()=>(0,p.useReducer)(k,w);var T=n(57639),N=n(46599),A=n(61479);let C=e=>{let{openWithIntent:t,onClose:n,automations:r}=e,o=r.length,[i,a]=b();(0,p.useEffect)(()=>{"not-open"===t&&a({type:"reset"})},[t,a]);let[d]=(0,y.n_)(A.kX),[u]=(0,y.n_)(A.qz),[h]=(0,y.n_)(N.DB),[m]=(0,y.n_)(N.Ds),x=async e=>{let{repoAddress:t,name:n,type:s}=e,r={repositoryLocationName:t.location,repositoryName:t.name};switch(s){case"sensor":{let{data:e}=await d({variables:{sensorSelector:{...r,sensorName:n}}});switch(null==e?void 0:e.startSensor.__typename){case"Sensor":a({type:"update-success"});return;case"SensorNotFoundError":case"UnauthorizedError":case"PythonError":a({type:"update-error",name:n,error:e.startSensor.message})}break}case"schedule":{let{data:e}=await h({variables:{scheduleSelector:{...r,scheduleName:n}}});switch(null==e?void 0:e.startSchedule.__typename){case"ScheduleStateResult":a({type:"update-success"});return;case"UnauthorizedError":case"PythonError":a({type:"update-error",name:n,error:e.startSchedule.message})}break}default:(0,S.dr)(s)}},w=async e=>{let{name:t,type:n,instigationState:s}=e,r={id:s.id};switch(n){case"sensor":{let{data:e}=await u({variables:r});switch(null==e?void 0:e.stopSensor.__typename){case"StopSensorMutationResult":a({type:"update-success"});return;case"UnauthorizedError":case"PythonError":a({type:"update-error",name:t,error:e.stopSensor.message})}break}case"schedule":{let{data:e}=await m({variables:r});switch(null==e?void 0:e.stopRunningSchedule.__typename){case"ScheduleStateResult":a({type:"update-success"});return;case"UnauthorizedError":case"PythonError":a({type:"update-error",name:t,error:e.stopRunningSchedule.message})}break}default:(0,S.dr)(n)}},k=async()=>{if("not-open"!==t){for(let e of(a({type:"start"}),r))"start"===t?await x(e):await w(e);a({type:"complete"})}},C="updating"!==i.step;return(0,s.jsxs)(v.lG,{isOpen:"not-open"!==t,title:"start"===t?"Start automations":"Stop automations",canEscapeKeyClose:C,canOutsideClickClose:C,onClose:n,children:[(0,s.jsx)(v.R4,{children:(0,s.jsxs)(f.Y,{direction:"column",spacing:24,children:[(()=>{if("not-open"===t)return null;switch(i.step){case"initial":if("stop"===t)return(0,s.jsx)("div",{children:"".concat(1===o?"1 automation":"".concat(o," automations")," will be stopped. Do you want to continue?")});return(0,s.jsx)("div",{children:"".concat(1===o?"1 automation":"".concat(o," automations")," will be started. Do you want to continue?")});case"updating":case"completed":let e=o>0?i.completion.completed/o:1;return(0,s.jsxs)(f.Y,{direction:"column",spacing:8,children:[(0,s.jsx)(g.z,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"updating"===i.step?(0,s.jsx)(T.M,{message:"Automations are being updated, please do not navigate away yet."}):null]});default:return null}})(),(()=>{if("not-open"===t||"initial"===i.step)return null;if("updating"===i.step)return(0,s.jsx)("div",{children:"Please do not close the window or navigate away while automations are being updated."});let e=i.completion.errors,n=Object.keys(e).length,r=i.completion.completed-n;return(0,s.jsxs)(f.Y,{direction:"column",spacing:8,children:[r?(0,s.jsxs)(f.Y,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,s.jsx)(l.In,{name:"check_circle",color:c.P$()}),(0,s.jsx)("div",{children:"start"===t?"Successfully started ".concat(1===r?"1 automation":"".concat(r," automations"),"."):"Successfully stopped ".concat(1===r?"1 automation":"".concat(r," automations"),".")})]}):null,n?(0,s.jsxs)(f.Y,{direction:"column",spacing:8,children:[(0,s.jsxs)(f.Y,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,s.jsx)(l.In,{name:"warning",color:c.Ym()}),(0,s.jsx)("div",{children:"start"===t?"Could not start ".concat(1===n?"1 automation":"".concat(n," automations"),":"):"Could not stop ".concat(1===n?"1 automation":"".concat(n," automations"),":")})]}),(0,s.jsx)("ul",{style:{margin:"8px 0"},children:Object.keys(e).map(t=>(0,s.jsx)("li",{children:(0,s.jsxs)(f.Y,{direction:"row",spacing:8,children:[(0,s.jsxs)("strong",{children:[t,":"]}),e[t]?(0,s.jsx)("div",{children:e[t]}):null]})},t))})]}):null]})})()]})}),(0,s.jsx)(v.Es,{children:(()=>{if("not-open"===t)return null;switch(i.step){case"initial":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.$n,{onClick:n,children:"Cancel"}),(0,s.jsx)(j.$n,{intent:"primary",onClick:k,children:"start"===t?"Start ".concat(1===o?"1 automation":"".concat(o," automations")):"Stop ".concat(1===o?"1 automation":"".concat(o," automations"))})]});case"updating":return(0,s.jsx)(j.$n,{intent:"primary",disabled:!0,children:"start"===t?"Starting ".concat(1===o?"1 automation":"".concat(o," automations")):"Stopping ".concat(1===o?"1 automation":"".concat(o," automations"))});case"completed":return(0,s.jsx)(j.$n,{intent:"primary",onClick:n,children:"Done"})}})()})]})};var I=n(66822);let E=e=>{let t=!1,n=!1;for(let s of e){let{status:e}=s;if(e===I.WqK.RUNNING?n=!0:e===I.WqK.STOPPED&&(t=!0),n&&t)break}return{anyOff:t,anyOn:n}},O=e=>{let{automations:t}=e,n=t.length,[r,o]=(0,p.useState)("not-open"),{anyOff:i,anyOn:a}=(0,p.useMemo)(()=>E(t.map(e=>{let{instigationState:t}=e;return t})),[t]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.AM,{content:(0,s.jsxs)(x.W1,{children:[(0,s.jsx)(x.Dr,{text:"Start ".concat(1===n?"1 automation":"".concat(n," automations")),disabled:!i,"aria-disabled":!i,icon:"toggle_on",onClick:()=>{o("start")}}),(0,s.jsx)(x.Dr,{text:"Stop ".concat(1===n?"1 automation":"".concat(n," automations")),disabled:!a,"aria-disabled":!a,icon:"toggle_off",onClick:()=>{o("stop")}})]}),placement:"bottom-end",children:(0,s.jsx)(j.$n,{disabled:!n,intent:"primary",rightIcon:(0,s.jsx)(l.In,{name:"expand_more"}),children:"Actions"})}),(0,s.jsx)(C,{openWithIntent:r,automations:t,onClose:()=>o("not-open")})]})};var _=n(92524),R=n(10598),M=n(21440),$=n(59541),L=n(12930),U=n(62225),z=n(59239),F=n(53112),K=n(67544),P=n(51784),q=n(38584),D=n(96331),W=n(75110),G=n(65421),H=n(71421),Y=n(97549),B=n(78612),V=n.n(B);let J=e=>{let{tick:t}=e,[n,o]=(0,p.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.AM,{content:(()=>{if(!t)return(0,s.jsx)(r.a,{padding:{vertical:8,horizontal:12},children:(0,s.jsx)(a.HL,{children:"No ticks yet"})});let e=Q[t.status],n=(0,s.jsx)(H.D,{timestamp:{unix:t.timestamp}});switch(t.status){case I.lsI.FAILURE:return(0,s.jsx)(X,{icon:e,title:"Latest tick failed",timestamp:n,content:(0,s.jsx)("div",{children:t.error?(0,s.jsx)(D.v,{onClick:()=>o(!0),children:"Show error"}):"Unknown error"})});case I.lsI.SUCCESS:{let r=t.runIds.length;return(0,s.jsx)(X,{icon:e,title:"Latest tick succeeded",timestamp:n,content:(0,s.jsx)("div",{children:1===r?"1 run requested":"".concat(Y.Eg.format(r)," runs requested")})})}case I.lsI.STARTED:return(0,s.jsx)(X,{icon:e,title:"Evaluating tick",timestamp:n});case I.lsI.SKIPPED:default:var i;return(0,s.jsx)(X,{icon:e,title:"Latest tick skipped",timestamp:n,content:(0,s.jsx)(a.HL,{children:null!=(i=t.skipReason)?i:"No reason provided"})})}})(),placement:"top",interactionKind:"hover",children:(0,s.jsx)(z.r,{children:t?Q[t.status]:(0,s.jsx)(l.In,{name:"missing",color:c.fR()})})}),(null==t?void 0:t.error)?(0,s.jsxs)(v.lG,{isOpen:n,title:"Error",style:{width:"80vw"},children:[(0,s.jsx)(v.R4,{children:(0,s.jsx)(G.Bf,{error:t.error})}),(0,s.jsx)(v.Es,{topBorder:!0,children:(0,s.jsx)(j.$n,{intent:"primary",onClick:()=>{o(!1)},children:"Done"})})]}):null]})},Q={[I.lsI.FAILURE]:(0,s.jsx)(l.In,{name:"warning",color:c.Ym()}),[I.lsI.SUCCESS]:(0,s.jsx)(l.In,{name:"done",color:c.P$()}),[I.lsI.STARTED]:(0,s.jsx)(W.y,{purpose:"body-text"}),[I.lsI.SKIPPED]:(0,s.jsx)(l.In,{name:"status",color:c.fR()})},X=e=>{let{icon:t,title:n,timestamp:o,content:i}=e;return(0,s.jsxs)(r.a,{padding:12,className:V().hoverContent,children:[(0,s.jsxs)(r.a,{border:i?"bottom":void 0,padding:i?{bottom:12}:void 0,margin:i?{bottom:8}:void 0,flex:{direction:"row",alignItems:"center",gap:8,justifyContent:"space-between"},children:[(0,s.jsxs)(r.a,{flex:{direction:"row",alignItems:"center",gap:8},children:[t,(0,s.jsx)("div",{children:n})]}),(0,s.jsx)("div",{children:o})]}),i?(0,s.jsx)("div",{children:i}):null]})};var Z=n(98394),ee=n(60845),et=n(92242),en=n(26277),es=n(41735);let er=e=>{var t;let n=null==(t=Intl.DateTimeFormat(navigator.language,{timeZone:e,timeZoneName:"shortOffset"}).formatToParts(new Date).find(e=>"timeZoneName"===e.type))?void 0:t.value,s=null==n?void 0:n.replace("GMT","");if(!s)return 0;let[r="0",o="0"]=s.split(":"),i=parseInt(r,10),a=parseInt(o,10)/60*(i<0?-1:1);return i+a};var eo=n(60288),ei=n(39857),ea=n(14538);let el=e=>{let{cronSchedule:t,executionTimezone:n}=e,{withHumanTimezone:r,withExecutionTimezone:o}=ec(t,n),i=(0,s.jsx)(P.mi,{rows:[{key:"Cron value",value:(0,s.jsx)(a.MC,{children:t})},{key:"Your time",value:(0,s.jsx)("span",{children:r})}]});return(0,s.jsx)(ed,{children:(0,s.jsx)(h.m,{content:i,placement:"top",children:(0,s.jsx)(en.v,{icon:"schedule",children:o})})})},ec=(e,t)=>{let{timezone:[n]}=(0,p.useContext)(ei.RF);if(!e)return{withHumanTimezone:null,withExecutionTimezone:null};let s=t||"UTC",r=(0,eo.d)(e,{longTimezoneName:s}),o="Automatic"===n?(0,ea.qi)():n,i=er(o),a=er(s);return{withHumanTimezone:(0,eo.d)(e,{longTimezoneName:o,tzOffset:i-a}),withExecutionTimezone:r}},ed=es.Ay.div.withConfig({componentId:"sc-fb93eb66-0"})([".bp5-popover-target{max-width:100%;:focus{outline:none;}}"]);var eu=n(2302),eh=n(2925),ep=n(90161),em=n(9329),ex=n(11665);n(21870);var ej=n(25909),eg=n(88647),ef=n(5356),ev=n(54535),ey=n(89250),eS=n(83669);let ew=(e,t)=>{if(e===I.WqK.STOPPED&&0===t||e===I.WqK.RUNNING&&1===t)return null;let n=[];return e===I.WqK.RUNNING&&0===t?n.push("Schedule is set to be running, but either the scheduler is not configured or the scheduler is not running the schedule"):e===I.WqK.STOPPED&&t>0&&n.push("Schedule is set to be stopped, but the scheduler is still running the schedule"),t>0&&n.push("Duplicate cron job for schedule found."),(0,s.jsx)(m.AM,{interactionKind:"hover",popoverClassName:"bp5-popover-content-sizing",position:"right",content:(0,s.jsxs)(r.a,{flex:{direction:"column",gap:8},padding:12,children:[(0,s.jsx)("strong",{children:"There are errors with this schedule."}),(0,s.jsx)("div",{children:"Errors:"}),(0,s.jsx)("ul",{children:n.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]}),children:(0,s.jsx)(en.v,{fill:!0,interactive:!0,intent:"danger",children:"Error"})})};var ek=n(9108),eb=n(19281);n(30225);var eT=n(41185);function eN(){let e=(0,em._)(["\n  query SingleScheduleQuery($selector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $selector) {\n      ... on Schedule {\n        id\n        name\n        pipelineName\n        description\n        scheduleState {\n          id\n          runningCount\n          hasStartPermission\n          hasStopPermission\n          ticks(limit: 1) {\n            id\n            ...TickTagFragment\n          }\n          runs(limit: 1) {\n            id\n            ...RunTimeFragment\n          }\n          nextTick {\n            timestamp\n          }\n        }\n        partitionSet {\n          id\n          name\n        }\n        ...ScheduleSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return eN=function(){return e},e}let eA="1.2fr 1fr 1fr 76px 148px 210px 92px",eC="60px ".concat(eA);(0,es.Ay)(r.a).withConfig({componentId:"sc-750823c9-0"})(["display:grid;grid-template-columns:",";height:100%;"],e=>{let{$showCheckboxColumn:t}=e;return t?eC:eA});let eI=(0,y.J1)(eN(),ev.G0,ey.vw,eS.M),eE=(0,p.forwardRef)((e,t)=>{var n,o,i;let{index:d,name:u,repoAddress:x,checked:j,onToggleChecked:g}=e,f=(0,$.V)(100),v=(0,y.IT)(eI,{variables:{selector:{repositoryName:x.name,repositoryLocationName:x.location,scheduleName:u}},skip:!f,notifyOnNetworkStatusChange:!0}),S=(0,y.IT)(eu.k,{variables:{scheduleSelector:{repositoryName:x.name,repositoryLocationName:x.location,scheduleName:u}},skip:!f});(0,Z.Bj)(v,Z.eO),(0,Z.Bj)(S,Z.eO);let{data:w}=v,k=(0,p.useMemo)(()=>(null==w?void 0:w.scheduleOrError.__typename)!=="Schedule"?null:w.scheduleOrError,[w]),b=null==k?void 0:k.scheduleState.ticks[0],{withHumanTimezone:T,withExecutionTimezone:N}=ec(null!=(n=null==k?void 0:k.cronSchedule)?n:null,null!=(o=null==k?void 0:k.executionTimezone)?o:null);return(0,s.jsx)(K.c,{ref:t,index:d,href:(0,ej.HG)(x,"/schedules/".concat(u)),checked:j,onToggle:g,renderLink:e=>{let{href:t,...n}=e;return(0,s.jsx)(q.N_,{to:t||"#",...n})},left:(0,s.jsxs)(r.a,{flex:{direction:"row",gap:8,alignItems:"flex-start"},children:[(0,s.jsx)("div",{children:(0,s.jsx)(l.In,{name:"schedule"})}),(0,s.jsxs)(r.a,{flex:{direction:"column",gap:4},children:[(0,s.jsxs)(r.a,{flex:{direction:"row",gap:12,alignItems:"center"},children:[(0,s.jsx)(r.a,{flex:{direction:"row",gap:8,alignItems:"center"},children:u}),(null==k?void 0:k.description)?(0,s.jsx)(h.m,{content:(0,s.jsx)("div",{style:{width:320},children:k.description}),placement:"top",children:(0,s.jsx)(l.In,{name:"info",color:c.XN()})}):null]}),T?(0,s.jsxs)(a.HL,{children:["Scheduled"," ",(0,s.jsx)(h.m,{placement:"top",content:(0,s.jsx)(P.mi,{rows:[{key:"Cron value",value:(0,s.jsx)(a.MC,{children:null!=(i=null==k?void 0:k.cronSchedule)?i:""})},{key:"Your time",value:(0,s.jsx)("span",{children:T})}]}),children:(0,s.jsx)("span",{children:N})})]}):(0,s.jsx)(L.E,{$width:80,$height:16})]})]}),right:(()=>{var e;if(v.loading&&!v.data)return(0,s.jsx)(L.E,{$width:200,$height:24});let t=(null==k?void 0:k.scheduleState.runs)||[];return(0,s.jsx)(U.p,{controls:[{key:"latest-run",control:(null==(e=t[0])?void 0:e.startTime)?(0,s.jsx)(m.AM,{position:"top",interactionKind:"hover",content:(0,s.jsx)("div",{children:(0,s.jsx)(et._O,{run:t[0],name:u})}),hoverOpenDelay:100,children:(0,s.jsx)(z.r,{children:(0,s.jsxs)(r.a,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,s.jsx)(ee.lQ,{status:t[0].status}),(0,s.jsx)(ep.w,{unixTimestamp:t[0].startTime,showTooltip:!1})]})})},t[0].id):null},{key:"tick",control:(0,s.jsx)(J,{tick:null!=b?b:null})},{key:"switch",control:(0,s.jsx)(r.a,{flex:{direction:"column",justifyContent:"center"},padding:{left:8},children:k?(0,s.jsx)(eh.G,{repoAddress:x,schedule:k},u):(0,s.jsx)(F.S,{disabled:!0,indeterminate:!0,checked:!1,format:"switch"},u)})}]})})()})});eE.displayName="ObserveAutomationScheduleRow";var eO=n(53474),e_=n(51350);n(94961);var eR=n(1410);function eM(){let e=(0,em._)(["\n  query SingleSensorQuery($selector: SensorSelector!) {\n    sensorOrError(sensorSelector: $selector) {\n      ... on Sensor {\n        id\n        description\n        name\n        targets {\n          pipelineName\n        }\n        metadata {\n          assetKeys {\n            path\n          }\n        }\n        minIntervalSeconds\n        description\n        sensorState {\n          id\n          runningCount\n          hasStartPermission\n          hasStopPermission\n          ticks(limit: 1) {\n            id\n            ...TickTagFragment\n          }\n          runs(limit: 1) {\n            id\n            ...RunTimeFragment\n          }\n          nextTick {\n            timestamp\n          }\n        }\n        ...SensorSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return eM=function(){return e},e}let e$="1.5fr 180px 1fr 76px 120px 148px 180px",eL="60px ".concat(e$);(0,es.Ay)(r.a).withConfig({componentId:"sc-92b4a7c3-0"})(["display:grid;grid-template-columns:",";height:100%;"],e=>{let{$showCheckboxColumn:t}=e;return t?eL:e$});let eU={[I.$Up.ASSET]:{name:"Asset sensor",icon:"sensors",description:"Asset sensors instigate runs when a materialization occurs"},[I.$Up.AUTO_MATERIALIZE]:{name:"Automation condition sensor",icon:"automation_condition",description:"Automation condition sensors trigger runs based on conditions defined on assets or checks."},[I.$Up.AUTOMATION]:{name:"Automation condition sensor",icon:"automation_condition",description:"Automation condition sensors trigger runs based on conditions defined on assets or checks."},[I.$Up.FRESHNESS_POLICY]:{name:"Freshness policy sensor",icon:"sensors",description:"Freshness sensors check the freshness of assets on each tick, then perform an action in response to that status"},[I.$Up.MULTI_ASSET]:{name:"Multi-asset sensor",icon:"sensors",description:"Multi asset sensors trigger job executions based on multiple asset materialization event streams"},[I.$Up.RUN_STATUS]:{name:"Run status sensor",icon:"sensors",description:"Run status sensors react to run status"},[I.$Up.STANDARD]:{name:"Standard sensor",icon:"sensors",description:null},[I.$Up.UNKNOWN]:{name:"Standard sensor",icon:"sensors",description:null}},ez=(0,y.J1)(eM(),ev.G0,ey.vw,eR.T),eF=(0,p.forwardRef)((e,t)=>{let{index:n,name:o,repoAddress:i,checked:d,onToggleChecked:u}=e,x=(0,$.V)(100),j=(0,y.IT)(ez,{variables:{selector:{repositoryName:i.name,repositoryLocationName:i.location,sensorName:o}},skip:!x}),g=(0,y.IT)(eO.X,{variables:{sensorSelector:{repositoryName:i.name,repositoryLocationName:i.location,sensorName:o}},skip:!x});(0,Z.Bj)(j,Z.eO),(0,Z.Bj)(g,Z.eO);let{data:f}=j,v=(0,p.useMemo)(()=>(null==f?void 0:f.sensorOrError.__typename)!=="Sensor"?null:f.sensorOrError,[f]),S=null==v?void 0:v.sensorState.ticks[0],w=null==v?void 0:v.sensorType,k=w?eU[w]:null;return(0,s.jsx)(K.c,{ref:t,index:n,href:(0,ej.HG)(i,"/sensors/".concat(o)),checked:d,onToggle:u,renderLink:e=>{let{href:t,...n}=e;return(0,s.jsx)(q.N_,{to:t||"#",...n})},left:(0,s.jsxs)(r.a,{flex:{direction:"row",gap:8,alignItems:"flex-start"},children:[(0,s.jsx)("div",{children:(0,s.jsx)(l.In,{name:"sensors"})}),(0,s.jsxs)(r.a,{flex:{direction:"column",gap:4},children:[(0,s.jsxs)(r.a,{flex:{direction:"row",gap:12,alignItems:"center"},children:[o,(null==k?void 0:k.description)?(0,s.jsx)(h.m,{content:(0,s.jsx)("div",{style:{width:320},children:k.description}),placement:"top",children:(0,s.jsx)(l.In,{name:"info",color:c.XN()})}):null]}),(0,s.jsx)(a.HL,{children:(null==v?void 0:v.sensorType)?eK[v.sensorType]:(0,s.jsx)(L.E,{$width:80,$height:16})})]})]}),right:(()=>{var e;if(j.loading&&!j.data)return(0,s.jsx)(L.E,{$width:200,$height:24});let t=(null==v?void 0:v.sensorState.runs)||[];return(0,s.jsx)(U.p,{controls:[{key:"latest-run",control:(null==(e=t[0])?void 0:e.startTime)?(0,s.jsx)(m.AM,{position:"top",interactionKind:"hover",content:(0,s.jsx)("div",{children:(0,s.jsx)(et._O,{run:t[0],name:o})}),hoverOpenDelay:100,children:(0,s.jsx)(z.r,{children:(0,s.jsxs)(r.a,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,s.jsx)(ee.lQ,{status:t[0].status}),(0,s.jsx)(ep.w,{unixTimestamp:t[0].startTime,showTooltip:!1})]})})},t[0].id):null},{key:"tick",control:(0,s.jsx)(J,{tick:null!=S?S:null})},{key:"switch",control:(0,s.jsx)(r.a,{flex:{direction:"column",justifyContent:"center"},padding:{left:8},children:v?(0,s.jsx)(e_.z,{repoAddress:i,sensor:v},o):(0,s.jsx)(F.S,{disabled:!0,indeterminate:!0,checked:!1,format:"switch"},o)})}]})})()})});eF.displayName="ObserveAutomationSensorRow";let eK={[I.$Up.ASSET]:"Asset sensor",[I.$Up.AUTOMATION]:"Automation condition sensor",[I.$Up.AUTO_MATERIALIZE]:"Automation condition sensor",[I.$Up.FRESHNESS_POLICY]:"Freshness policy sensor",[I.$Up.MULTI_ASSET]:"Multi-asset sensor",[I.$Up.RUN_STATUS]:"Run status sensor",[I.$Up.STANDARD]:"Standard sensor",[I.$Up.UNKNOWN]:"Unknown sensor type"},eP="60px minmax(400px, 1.5fr) 240px 1fr 200px 200px",eq=e=>{let{checkbox:t}=e;return(0,s.jsxs)(eT.Sy,{templateColumns:eP,sticky:!0,children:[(0,s.jsx)(eT.A3,{children:(0,s.jsx)("div",{style:{position:"relative",top:"-1px"},children:t})}),(0,s.jsx)(eT.A3,{children:"Name"}),(0,s.jsx)(eT.A3,{children:"Type"}),(0,s.jsx)(eT.A3,{children:"Target"}),(0,s.jsx)(eT.A3,{children:"Last tick"}),(0,s.jsx)(eT.A3,{children:"Last run"})]})},eD=(0,es.Ay)(r.a).withConfig({componentId:"sc-40d0a0cf-0"})(["display:grid;grid-template-columns:",";height:100%;"],eP);var eW=n(42932);let eG=(0,p.forwardRef)((e,t)=>{var n;let{index:o,name:i,repoAddress:l,checked:c,onToggleChecked:d}=e,u=(0,$.V)(100),m=(0,y.IT)(eI,{variables:{selector:{repositoryName:l.name,repositoryLocationName:l.location,scheduleName:i}},skip:!u,notifyOnNetworkStatusChange:!0}),x=(0,y.IT)(eu.k,{variables:{scheduleSelector:{repositoryName:l.name,repositoryLocationName:l.location,scheduleName:i}},skip:!u});(0,Z.Bj)(m,Z.eO),(0,Z.Bj)(x,Z.eO);let{data:j}=m,g=(0,p.useMemo)(()=>(null==j?void 0:j.scheduleOrError.__typename)!=="Schedule"?null:j.scheduleOrError,[j]),f=null==g?void 0:g.scheduleState,v=(0,p.useMemo)(()=>{if(!f)return{disabled:!0};let{hasStartPermission:e,hasStopPermission:t,status:n}=f;return n!==I.WqK.RUNNING||t?n!==I.WqK.STOPPED||e?{disabled:!1}:{disabled:!0,message:"You do not have permission to start this schedule"}:{disabled:!0,message:"You do not have permission to stop this schedule"}},[f]),S=null==g?void 0:g.scheduleState.ticks[0],w=(null==g?void 0:g.pipelineName)?[{pipelineName:g.pipelineName}]:null,k=(null==(n=x.data)?void 0:n.scheduleOrError.__typename)==="Schedule"?x.data.scheduleOrError.assetSelection:null;return(0,s.jsx)("div",{ref:t,"data-index":o,children:(0,s.jsxs)(eD,{border:"bottom",children:[(0,s.jsx)(eT.$4,{children:(0,s.jsx)(h.m,{canShow:v.disabled,content:v.message||"",placement:"top",children:(0,s.jsx)(F.S,{disabled:v.disabled,checked:c,onChange:e=>{if(d&&e.target instanceof HTMLInputElement){let{checked:t}=e.target;d({checked:t,shiftKey:e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift")})}}})})}),(0,s.jsx)(eT.$4,{children:(0,s.jsx)(r.a,{flex:{direction:"row",gap:8,alignItems:"flex-start",justifyContent:"space-between"},children:(0,s.jsxs)(r.a,{flex:{grow:1,gap:8},children:[g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eh.G,{repoAddress:l,schedule:g},i),ew(g.scheduleState.status,g.scheduleState.runningCount)]}):(0,s.jsx)("div",{style:{width:30}}),(0,s.jsx)(q.N_,{to:(0,ej.HG)(l,"/schedules/".concat(i)),children:(0,s.jsx)(eW.A,{text:i})})]})})}),(0,s.jsx)(eT.$4,{children:g?(0,s.jsxs)(r.a,{flex:{direction:"column",gap:4},children:[(0,s.jsx)(el,{cronSchedule:g.cronSchedule,executionTimezone:g.executionTimezone}),g.scheduleState.nextTick&&g.scheduleState.status===I.WqK.RUNNING?(0,s.jsx)(a.HL,{children:(0,s.jsxs)("div",{style:{overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",textOverflow:"ellipsis"},children:["Next tick:\xa0",(0,s.jsx)(ek.J,{timestamp:g.scheduleState.nextTick.timestamp,timezone:g.executionTimezone,timeFormat:{showSeconds:!1,showTimezone:!0}})]})}):null]}):(0,s.jsx)(ex.ov,{queryResult:m})}),(0,s.jsx)(eT.$4,{children:(0,s.jsx)("div",{children:(0,s.jsx)(eg.r,{repoAddress:l,automationType:"schedule",targets:w,assetSelection:k})})}),(0,s.jsx)(eT.$4,{children:S?(0,s.jsx)("div",{children:(0,s.jsx)(eb.O,{tick:S,tickResultType:"runs"})}):(0,s.jsx)(ex.ov,{queryResult:m})}),(0,s.jsx)(eT.$4,{children:(null==g?void 0:g.scheduleState)&&(null==g?void 0:g.scheduleState.runs[0])?(0,s.jsx)(ef.A,{run:g.scheduleState.runs[0],name:i,showButton:!1,showHover:!0,showSummary:!1}):(0,s.jsx)(ex.ov,{queryResult:m})})]})})}),eH=(0,p.forwardRef)((e,t)=>{var n;let{index:o,name:i,repoAddress:a,checked:l,onToggleChecked:c}=e,d=(0,$.V)(100),u=(0,y.IT)(ez,{variables:{selector:{repositoryName:a.name,repositoryLocationName:a.location,sensorName:i}},skip:!d}),m=(0,y.IT)(eO.X,{variables:{sensorSelector:{repositoryName:a.name,repositoryLocationName:a.location,sensorName:i}},skip:!d});(0,Z.Bj)(u,Z.eO),(0,Z.Bj)(m,Z.eO);let{data:x}=u,j=(0,p.useMemo)(()=>(null==x?void 0:x.sensorOrError.__typename)!=="Sensor"?null:x.sensorOrError,[x]),g=null==j?void 0:j.sensorState,f=(0,p.useMemo)(()=>{if(!g)return{disabled:!0};let{hasStartPermission:e,hasStopPermission:t,status:n}=g;return n!==I.WqK.RUNNING||t?n!==I.WqK.STOPPED||e?{disabled:!1}:{disabled:!0,message:"You do not have permission to start this sensor"}:{disabled:!0,message:"You do not have permission to stop this sensor"}},[g]),v=null==j?void 0:j.sensorState.ticks[0],S=null==j?void 0:j.sensorType,w=S?eU[S]:null,k=(null==(n=m.data)?void 0:n.sensorOrError.__typename)==="Sensor"?m.data.sensorOrError.assetSelection:null;return(0,s.jsx)("div",{ref:t,"data-index":o,children:(0,s.jsxs)(eD,{border:"bottom",children:[(0,s.jsx)(eT.$4,{children:(0,s.jsx)(h.m,{canShow:f.disabled,content:f.message||"",placement:"top",children:(0,s.jsx)(F.S,{disabled:f.disabled,checked:l,onChange:e=>{if(c&&e.target instanceof HTMLInputElement){let{checked:t}=e.target;c({checked:t,shiftKey:e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift")})}}})})}),(0,s.jsx)(eT.$4,{children:(0,s.jsx)(r.a,{flex:{direction:"row",gap:8,alignItems:"flex-start",justifyContent:"space-between"},children:(0,s.jsxs)(r.a,{flex:{grow:1,gap:8},children:[j?(0,s.jsx)(e_.z,{repoAddress:a,sensor:j},i):(0,s.jsx)("div",{style:{width:30}}),(0,s.jsx)(q.N_,{to:(0,ej.HG)(a,"/sensors/".concat(i)),children:(0,s.jsx)(eW.A,{text:i})})]})})}),(0,s.jsx)(eT.$4,{children:(0,s.jsx)("div",{children:w?w.description?(0,s.jsx)(h.m,{content:(0,s.jsx)("div",{style:{maxWidth:"300px"},children:w.description}),placement:"top",children:(0,s.jsx)(en.v,{icon:w.icon,children:w.name})}):(0,s.jsx)(en.v,{icon:w.icon,children:w.name}):null})}),(0,s.jsx)(eT.$4,{children:j?(0,s.jsx)("div",{children:(0,s.jsx)(eg.r,{targets:j.targets||null,repoAddress:a,assetSelection:k,automationType:j.sensorType})}):(0,s.jsx)(ex.ov,{queryResult:m})}),(0,s.jsx)(eT.$4,{children:v?(0,s.jsx)("div",{children:(0,s.jsx)(eb.O,{tick:v,tickResultType:"runs"})}):(0,s.jsx)(ex.ov,{queryResult:u})}),(0,s.jsx)(eT.$4,{children:(null==j?void 0:j.sensorState)&&(null==j?void 0:j.sensorState.runs[0])?(0,s.jsx)(ef.A,{run:j.sensorState.runs[0],name:i,showButton:!1,showHover:!0,showSummary:!1}):(0,s.jsx)(ex.ov,{queryResult:u})})]})})});var eY=n(10308),eB=n(4984),eV=n(67402);let eJ=(e,t)=>"".concat((0,eV.FC)(e),"-").concat(t);var eQ=n(4104),eX=n(21983);let eZ=e=>{let{repos:t,headerCheckbox:n,checkedKeys:r,onToggleCheckFactory:o}=e,{flagUseNewObserveUIs:i}=(0,eY.h)(),a=p.useRef(null),l=p.useMemo(()=>t.map(e=>{let{repoAddress:t}=e;return(0,eV.FC)(t)}),[t]),{expandedKeys:c,onToggle:d,onToggleAll:u}=(0,eX.A)(eB.i,l),h=p.useMemo(()=>{let e=[];return t.forEach(t=>{let{repoAddress:n,schedules:s,sensors:r}=t;e.push({type:"header",repoAddress:n,scheduleCount:s.length,sensorCount:r.length});let o=(0,eV.FC)(n);if(c.includes(o)){let t=new Set(r),o=new Set(s);[...r,...s].sort((e,t)=>S.Vp.compare(e,t)).forEach(s=>{t.has(s)?e.push({type:"sensor",repoAddress:n,sensor:s}):o.has(s)&&e.push({type:"schedule",repoAddress:n,schedule:s})})}}),e},[t,c]),m=(0,eQ.F)(t.map(e=>{let{repoAddress:t}=e;return t.name})),x=(0,M.Te)({count:h.length,getScrollElement:()=>a.current,estimateSize:e=>{let t=h[e];return(null==t?void 0:t.type)==="header"?32:64},overscan:15}),j=x.getTotalSize(),g=x.getVirtualItems();return(0,s.jsx)("div",{style:{overflow:"hidden"},children:(0,s.jsxs)(eT.mc,{ref:a,children:[i?null:(0,s.jsx)(eq,{checkbox:n}),(0,s.jsx)(eT.Rp,{$totalHeight:j,children:g.map(e=>{let{index:t,key:n,size:a,start:l}=e,p=h[t],j=p.type;if("header"===j)return(0,s.jsx)(R.fI,{$height:a,$start:l,children:(0,s.jsx)(ex.ur,{repoAddress:p.repoAddress,ref:x.measureElement,index:t,onToggle:d,onToggleAll:u,expanded:c.includes((0,eV.FC)(p.repoAddress)),showLocation:m.has(p.repoAddress.name),rightElement:(0,s.jsx)(s.Fragment,{})})},n);if("sensor"===j){let e=eJ(p.repoAddress,p.sensor);return i?(0,s.jsx)(R.fI,{$height:a,$start:l,children:(0,s.jsx)(eF,{index:t,ref:x.measureElement,name:p.sensor,checked:r.has(e),onToggleChecked:o(e),repoAddress:p.repoAddress},n)},n):(0,s.jsx)(R.fI,{$height:a,$start:l,children:(0,s.jsx)(eH,{index:t,ref:x.measureElement,name:p.sensor,checked:r.has(e),onToggleChecked:o(e),repoAddress:p.repoAddress})},n)}if("schedule"===j){let e=eJ(p.repoAddress,p.schedule);return i?(0,s.jsx)(R.fI,{$height:a,$start:l,children:(0,s.jsx)(eE,{index:t,ref:x.measureElement,name:p.schedule,checked:r.has(e),onToggleChecked:o(e),repoAddress:p.repoAddress},n)},n):(0,s.jsx)(R.fI,{$height:a,$start:l,children:(0,s.jsx)(eG,{index:t,ref:x.measureElement,name:p.schedule,checked:r.has(e),onToggleChecked:o(e),repoAddress:p.repoAddress},n)},n)}return(0,s.jsx)("div",{},n)})})]})})};var e0=n(32857),e1=n(10293),e2=n(56808),e4=n(49593),e8=n(51839);let e5=e=>e.hasStartPermission&&e.status===I.WqK.STOPPED||e.hasStopPermission&&e.status===I.WqK.RUNNING;var e3=n(64814),e9=n(99333),e6=n(18202),e7=n(64201),te=n(18088),tt=n(10033),tn=n(57638),ts=n(15349),tr=n(32497);let to=function(){let{codeLocations:e,setCodeLocations:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{codeLocations:void 0,setCodeLocations:void 0},{allRepos:n,visibleRepos:s,setVisible:r,setHidden:o}=(0,p.useContext)(ts.zp),i=(0,p.useMemo)(()=>n.map(e=>(0,tr.t8)(e.repository.name,e.repositoryLocation.name)),[n]),a=(0,p.useMemo)(()=>s.length===n.length?[]:s.map(e=>(0,tr.t8)(e.repository.name,e.repositoryLocation.name)),[n,s]),l=(0,p.useCallback)(e=>{if(0===e.size)return void r(i);o(i.filter(t=>!e.has(t))),r(Array.from(e))},[i,o,r]);return(0,e7.wj)({state:e||a,allValues:(0,p.useMemo)(()=>i.map(e=>({value:e,match:[(0,eV.FC)(e)]})),[i]),onStateChanged:e=>{t?t(Array.from(e)):l(e)},menuWidth:"500px",...ta})},ti=e=>(0,eV.FC)(e),ta={name:"Code location",icon:"folder",renderLabel:e=>{let{value:t}=e;return(0,s.jsx)(tn.lO,{text:(0,eV.FC)(t)})},getStringValue:ti,getKey:ti};var tl=n(55765),tc=n.n(tl);n(96061);var td=n(27827);let tu=[],th=e=>{let{allTags:t,tags:n,setTags:s}=e,r=(0,p.useMemo)(()=>null==n?void 0:n.map(tm),[n]);return(0,e7.wj)({...tx,allValues:(0,p.useMemo)(()=>t.map(e=>({value:e,match:[e.key+":"+e.value]})),[t]),menuWidth:"300px",state:null!=r?r:tu,onStateChanged:e=>{let t=Array.from(e);null==s||s(t)},canSelectAll:!1})},tp=e=>{let{allTags:t}=e,[n,s]=(0,e4.m)({queryKey:"tags"});return th({allTags:t,tags:n,setTags:s})},tm=tc()(e=>e,e=>[e.key,e.value].join("|@-@|")),tx={name:"Tag",icon:"tag",renderLabel:e=>{let{value:t}=e;return(0,s.jsx)(tn.lO,{text:(0,td.W)({key:t.key,value:t.value})})},getStringValue:e=>{let{value:t,key:n}=e;return"".concat(n,": ").concat(t)},matchType:"all-of"},tj=()=>{let[e,t]=(0,e4.m)({encode:e=>({instigationStatus:e.size?Array.from(e).join(","):void 0}),decode:e=>{let t=e.instigationStatus;return"string"==typeof t?new Set(t.split(",")):new Set}});return(0,e7.wj)({name:"Running state",icon:"toggle_off",allValues:[{value:I.WqK.RUNNING,match:["on","running"]},{value:I.WqK.STOPPED,match:["off","stopped"]}],getKey:e=>e,renderLabel:e=>{let{value:t}=e;return(0,s.jsx)("span",{children:t===I.WqK.RUNNING?"Running":"Stopped"})},state:e,onStateChanged:t,getStringValue:e=>e})};var tg=function(e){return e.Schedules="schedules",e.Sensors="sensors",e}(tg||{});let tf={schedules:{label:"Schedules",value:{type:"schedules",label:"Schedules"},match:["schedules"]},sensors:{label:"Sensors",value:{type:"sensors",label:"Sensors"},match:["sensors"]}},tv=Object.values(tf),ty=new Set(Object.values(tg)),tS=()=>{(0,e0.b7)(),(0,e2.r)("Automation");let{allRepos:e,visibleRepos:t,loadingNonAssets:n,data:m}=(0,p.useContext)(ts.zp),x=(0,e1.I)(),[j,g]=(0,e4.m)({queryKey:"search",defaults:{search:""}}),[f,v]=(0,e4.m)({encode:e=>({automationType:e.size?Array.from(e).join(","):void 0}),decode:e=>"string"==typeof e.automationType?new Set(e.automationType.split(",").filter(e=>ty.has(e))):new Set}),y=(0,p.useMemo)(()=>new Set(Array.from(f).map(e=>tf[e].value)),[f]),S=to(),w=tj(),k=(0,e7.wj)({name:"Automation type",allValues:tv,icon:"automation_condition",getStringValue:e=>e.label,state:y,renderLabel:e=>{let{value:t}=e;return(0,s.jsx)("span",{children:t.label})},onStateChanged:e=>{v(new Set(Array.from(e).map(e=>e.type)))}}),b=(0,p.useMemo)(()=>{let e=Object.values(m).filter(e=>"WorkspaceLocationEntry"===e.__typename),n=(0,e9.p)(t);return tk(e).filter(e=>{let{repoAddress:t}=e;return n.has((0,eV.FC)(t))})},[m,t]),T=tp({allTags:function(e,t){return(0,p.useMemo)(()=>Array.from(new Set(e.flatMap(e=>{var n;return null!=(n=t(e).map(e=>JSON.stringify(e)))?n:[]}).filter(e=>e))).map(e=>tm(JSON.parse(e))).sort((e,t)=>0===e.key.localeCompare(t.key)?e.value.localeCompare(t.value):e.key.localeCompare(t.key)),[e,t])}(b,(0,p.useCallback)(e=>[...e.schedules.flatMap(e=>e.tags),...e.sensors.flatMap(e=>e.tags)],[]))}),{state:N}=T,A=(0,p.useMemo)(()=>[S,w,k,T],[S,w,k,T]),{button:C,activeFiltersJsx:I}=(0,e6.R)({filters:A}),{state:E}=w,R=(0,p.useMemo)(()=>b.map(e=>{let{sensors:t,schedules:n,...s}=e;return{...s,sensors:t.filter(e=>{let{sensorState:t,tags:n}=e;return(!N.size||!!(0,tt.U)(Array.from(N),n))&&(!E.size||!!E.has(t.status))&&(!f.size||!!f.has("sensors"))}),schedules:n.filter(e=>{let{scheduleState:t,tags:n}=e;return(!N.size||!!(0,tt.U)(Array.from(N),n))&&(!E.size||!!E.has(t.status))&&(!f.size||!!f.has("schedules"))})}}),[b,N,E,f]),M=j.trim().toLocaleLowerCase(),$=M.length>0,L=(0,p.useMemo)(()=>{let e=M.toLocaleLowerCase();return R.map(t=>{let{repoAddress:n,schedules:s,sensors:r}=t;return{repoAddress:n,schedules:s.filter(t=>{let{name:n}=t;return n.toLocaleLowerCase().includes(e)}).map(e=>{let{name:t}=e;return t}),sensors:r.filter(t=>{let{name:n}=t;return n.toLocaleLowerCase().includes(e)}).map(e=>{let{name:t}=e;return t})}}).filter(e=>{let{sensors:t,schedules:n}=e;return t.length>0||n.length>0})},[R,M]),U=(0,p.useMemo)(()=>R.map(e=>{let{repoAddress:t,schedules:n,sensors:s}=e;return[...s.filter(e=>{let{sensorState:t}=e;return e5(t)}).map(e=>{let{name:n,sensorState:s}=e;return{repoAddress:t,name:n,type:"sensor",instigationState:s}}),...n.filter(e=>{let{scheduleState:t}=e;return e5(t)}).map(e=>{let{name:n,scheduleState:s}=e;return{repoAddress:t,name:n,type:"schedule",instigationState:s}})]}).flat(),[R]),z=(0,p.useMemo)(()=>U.map(e=>{let{repoAddress:t,name:n}=e;return eJ(t,n)}),[U]),[{checkedIds:F},{onToggleFactory:K,onToggleAll:P}]=(0,e8._)(z),q=(0,p.useMemo)(()=>{let e=new Set(L.map(e=>{let{repoAddress:t,schedules:n,sensors:s}=e;return[...n,...s].map(e=>eJ(t,e))}).flat());return z.filter(t=>e.has(t))},[z,L]),D=(0,p.useMemo)(()=>{let e=new Set(q.filter(e=>F.has(e)));return U.filter(t=>{let{repoAddress:n,name:s}=t;return e.has(eJ(n,s))})},[q,U,F]),W=z.length>0,G=D.length,H=q.length>0;return(0,s.jsxs)(r.a,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,s.jsx)(d.z,{title:(0,s.jsx)(a.M7,{children:"Automation"})}),"has-global-amp"===x?(0,s.jsx)(r.a,{padding:{horizontal:24},border:"bottom",children:(0,s.jsx)(_.M,{tab:"schedules-and-sensors"})}):null,(0,s.jsxs)(r.a,{padding:{horizontal:24,vertical:12},flex:{direction:"row",alignItems:"center",justifyContent:"space-between",gap:12,grow:0},children:[(0,s.jsxs)(r.a,{flex:{direction:"row",gap:12},children:[C,(0,s.jsx)(u.ks,{icon:"search",value:j,onChange:e=>g(e.target.value),placeholder:"Filter by name…",style:{width:"340px"}})]}),(0,s.jsx)(h.m,{content:"You do not have permission to start or stop these schedules",canShow:H&&!W,placement:"top-end",useDisabledButtonTooltipFix:!0,children:(0,s.jsx)(O,{automations:D})})]}),I.length?(0,s.jsx)(r.a,{padding:{vertical:8,horizontal:24},border:"top-and-bottom",flex:{direction:"row",gap:8},children:I}):null,(()=>{if(n)return(0,s.jsx)(r.a,{flex:{direction:"row",justifyContent:"center"},padding:{top:64},children:(0,s.jsx)(o.V,{label:"Loading automations…"})});let d=e.length>t.length;return L.length?(0,s.jsx)(eZ,{headerCheckbox:W?(0,s.jsx)(te.t,{checkedCount:G,totalCount:q.length,onToggleAll:P}):void 0,repos:L,checkedKeys:F,onToggleCheckFactory:K}):$?(0,s.jsx)(r.a,{padding:{top:20},children:(0,s.jsx)(i.I,{icon:"search",title:"No matching automations",description:d?(0,s.jsxs)("div",{children:["No automations matching ",(0,s.jsx)("strong",{children:j})," were found in the selected code locations"]}):(0,s.jsxs)("div",{children:["No automations matching ",(0,s.jsx)("strong",{children:j})," were found in your definitions"]})})}):(0,s.jsx)(r.a,{padding:{top:20},children:(0,s.jsx)(i.I,{icon:"search",title:"No automations",description:d?"No automations were found in the selected code locations":(0,s.jsxs)(a.jz,{children:["There are no automations in this deployment."," ",(0,s.jsx)("a",{href:"https://docs.dagster.io/concepts/automation",target:"_blank",rel:"noreferrer",children:(0,s.jsxs)(r.a,{flex:{direction:"row",gap:4,alignItems:"center"},children:["Learn more about automations",(0,s.jsx)(l.In,{name:"open_in_new",color:c.Hv()})]})})]})})})})()]})},tw=tS,tk=e=>{let t=e.map(e=>e.locationOrLoadError),n=[];for(let e of t)if((null==e?void 0:e.__typename)==="RepositoryLocation")for(let t of e.repositories){let{name:s,schedules:r,sensors:o}=t,i=(0,tr.t8)(s,e.name);(o.length>0||r.length>0)&&n.push({repoAddress:i,schedules:r,sensors:o})}return(0,e3.K)(n)}},64814:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});var s=n(67402);let r=e=>[...e].sort((e,t)=>{let n=(0,s.FC)(e.repoAddress),r=(0,s.FC)(t.repoAddress);return n.localeCompare(r)})},78612:e=>{e.exports={hoverContent:"LatestTickHoverButton_hoverContent__4QRVM"}},92524:(e,t,n)=>{"use strict";n.d(t,{M:()=>u});var s=n(6029),r=n(44263),o=n(83150),i=n(75110),a=n(83007),l=n(10293),c=n(20574),d=n(85725);let u=e=>{let{tab:t}=e,n=(0,c.Aw)(),u=(0,l.I)();return(0,s.jsxs)(r.tU,{selectedTabId:t,children:[(0,s.jsx)(d.s,{id:"schedules-and-sensors",title:"Schedules and sensors",to:"/automation"}),"has-global-amp"===u?(0,s.jsx)(d.s,{id:"global-amp",title:(0,s.jsxs)(o.a,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,s.jsx)("div",{children:"Auto-materialize"}),n.loading?(0,s.jsx)(i.y,{purpose:"body-text"}):(0,s.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:!1===n.paused?a.iZ():a.fR()}})]}),to:"/overview/automation"}):null]})}},99333:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var s=n(32497),r=n(67402);let o=e=>new Set(e.map(e=>(0,r.FC)((0,s.t8)(e.repository.name,e.repositoryLocation.name))))}}]);
//# sourceMappingURL=4972.3032f28549507085.js.map