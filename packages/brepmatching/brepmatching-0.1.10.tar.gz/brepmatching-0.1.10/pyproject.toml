[build-system]
requires = [
    "setuptools>=75.2.0,<76.0.0",
    "setuptools-scm[toml]>=6.2",
    "wheel",
    "cmake>=3.30.5,<4.0.0",
    "pybind11[global]>=2.13.6,<3.0.0",
]
build-backend = "setuptools.build_meta"

[project]
name = "brepmatching"
dynamic = ["version"]
description = "Topology matching using brepmatching and Femtet."
authors = [{ name = "pyfemtet", email = "148934231+pyfemtet@users.noreply.github.com" }]
license = {file = "LICENSE.txt"}
readme = "README.md"
dependencies = [
    "torch>=2.5.1,<3",
    "torch-geometric>=2.6.1,<3",
    "pytorch-lightning>=2.4.0,<3",
    "numpy>=2.0.0,<3.0.0",
    "pandas>=2.2.3,<3.0.0",
    "scipy>=1.14.1,<2.0.0",
    "scikit-learn>=1.6.0,<2.0.0",
    "tqdm>=4.66.5,<5.0.0",
    "dotmap>=1.3.30,<2.0.0",
    "xxhash>=3.5.0,<4.0.0",
    "parse>=1.20.2,<2.0.0",
    "pywin32<307 ; sys_platform == 'win32' and python_version < '3.13'",
    "pywin32>=309 ; sys_platform == 'win32' and python_version >= '3.13'",
    "femtetutils>=1.0.0 ; sys_platform == 'win32' ",
]

[tool.setuptools]
include-package-data = true

[tool.setuptools.package-data]
brepmatching = [
    "pyfemtet_scripts/data/dataset_to_predict/dataset/data/VariationData/*.csv",
    "pyfemtet_scripts/*.ckpt",
]

[tool.setuptools.packages.find]
where = ["src"]
include = [
    "brepmatching*",
    "automate*",
    "coincidence_matching*",
    "set_attributes*",
]

[tool.setuptools_scm]
write_to = "src/brepmatching/__version__.py"
