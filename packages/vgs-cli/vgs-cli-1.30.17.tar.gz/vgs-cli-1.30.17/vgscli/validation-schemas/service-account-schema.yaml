---
"$schema": http://json-schema.org/draft-07/schema#
type: object
properties:
  apiVersion:
    type: string
    enum:
      - 1.0.0
  kind:
    type: string
    enum:
      - ServiceAccount
  data:
    type: object
    properties:
      name:
        type: string
      annotations:
        type: object
        additionalProperties:
          type: string
        default: {}
      vaults:
        type: array
        items:
          type: string
      scopes:
        type: array
        items:
          oneOf:
            - type: object
              properties:
                name:
                  type: string
                optional:
                  type: boolean
                  default: false
              required:
                - name
              additionalProperties: false
            - type: string # Left for compatibility
        minItems: 1
      accessTokenLifespan:
        type: integer
        minimum: 60
    required:
      - name
      - scopes
    additionalProperties: false
required:
  - apiVersion
  - kind
  - data
additionalProperties: false
