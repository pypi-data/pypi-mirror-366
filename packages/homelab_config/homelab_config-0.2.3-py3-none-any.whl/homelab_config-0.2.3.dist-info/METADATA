Metadata-Version: 2.4
Name: homelab_config
Version: 0.2.3
Summary: homelab config with consul
Author-email: Shawn Deng <shawndeng1109@qq.com>
License-Expression: MIT
Requires-Python: <3.14,>=3.10
Requires-Dist: diskcache>=5.6.3
Requires-Dist: httpx>=0.25.0
Requires-Dist: loguru>=0.7.3
Requires-Dist: py-consul>=1.6.0
Requires-Dist: pydantic-settings>=2.10.1
Requires-Dist: pydantic>=2.0.0
Requires-Dist: pyyaml>=6.0.2
Requires-Dist: yarl>=1.20.1
Provides-Extra: dev
Requires-Dist: commitizen>=3.12.0; extra == 'dev'
Requires-Dist: pytest-cov>=6.0.0; extra == 'dev'
Requires-Dist: pytest-mock>=3.14.0; extra == 'dev'
Requires-Dist: pytest>=8.3.4; extra == 'dev'
Requires-Dist: ruff>=0.9.7; extra == 'dev'
Provides-Extra: docs
Requires-Dist: mkdocs-gen-files>=0.5.0; extra == 'docs'
Requires-Dist: mkdocs-literate-nav>=0.6.1; extra == 'docs'
Requires-Dist: mkdocs-material>=9.5.3; extra == 'docs'
Requires-Dist: mkdocs>=1.5.3; extra == 'docs'
Requires-Dist: mkdocstrings-python>=1.7.5; extra == 'docs'
Requires-Dist: mkdocstrings>=0.24.0; extra == 'docs'
Requires-Dist: pymdown-extensions>=10.7; extra == 'docs'
Description-Content-Type: text/markdown

# homelab_config

[![✅ Code Quality & Tests](https://github.com/shawndeng-homelab/homelab-config/actions/workflows/ci-tests.yaml/badge.svg)](https://github.com/shawndeng-homelab/homelab-config/actions/workflows/ci-tests.yaml)
[![🚀 Release Build & Publish](https://github.com/shawndeng-homelab/homelab-config/actions/workflows/package-release.yaml/badge.svg)](https://github.com/shawndeng-homelab/homelab-config/actions/workflows/package-release.yaml)
[![📚 Deploy Documentation](https://github.com/shawndeng-homelab/homelab-config/actions/workflows/docs-deploy.yaml/badge.svg)](https://github.com/shawndeng-homelab/homelab-config/actions/workflows/docs-deploy.yaml)

一个基于 Consul 的家庭实验室配置管理工具，提供环境感知和缓存功能。

## 功能特点

- 🌍 多环境支持 (dev/staging/prod)
- 🔒 安全的配置存储和访问
- 🚀 高性能缓存机制
- ⚡ 灵活的 Consul 连接管理
- 🔄 自动故障转移支持
- 📝 完整的类型注解支持

## 安装

```bash
# 使用 pip 安装
pip install homelab_config

# 使用 uv 安装
uv pip install homelab_config
```

## 快速开始

```python
from homelab_config import create_client

# 创建客户端
client = create_client()

# 获取配置 (使用默认环境)
config = client("app/myapp/config")

# 获取特定环境的配置
dev_config = client("app/myapp/config,dev")
prod_config = client("app/myapp/config,prod")
```

## 配置

支持通过环境变量进行配置：

```bash
# 运行环境设置
HOMELAB_ENVIRONMENT=dev

# Consul 服务器地址 (支持多个地址，用逗号分隔)
HOMELAB_CONSUL_URLS=http://localhost:8500

# Consul 认证令牌 (可选)
HOMELAB_CONSUL_TOKEN=your-token

# 连接缓存时间 (秒)
HOMELAB_CONSUL_CACHE_TTL=300
```
