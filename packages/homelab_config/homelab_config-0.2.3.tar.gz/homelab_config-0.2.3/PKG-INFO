Metadata-Version: 2.4
Name: homelab_config
Version: 0.2.3
Summary: homelab config with consul
Author-email: Shawn Deng <shawndeng1109@qq.com>
License-Expression: MIT
Requires-Python: <3.14,>=3.10
Requires-Dist: diskcache>=5.6.3
Requires-Dist: httpx>=0.25.0
Requires-Dist: loguru>=0.7.3
Requires-Dist: py-consul>=1.6.0
Requires-Dist: pydantic-settings>=2.10.1
Requires-Dist: pydantic>=2.0.0
Requires-Dist: pyyaml>=6.0.2
Requires-Dist: yarl>=1.20.1
Provides-Extra: dev
Requires-Dist: commitizen>=3.12.0; extra == 'dev'
Requires-Dist: pytest-cov>=6.0.0; extra == 'dev'
Requires-Dist: pytest-mock>=3.14.0; extra == 'dev'
Requires-Dist: pytest>=8.3.4; extra == 'dev'
Requires-Dist: ruff>=0.9.7; extra == 'dev'
Provides-Extra: docs
Requires-Dist: mkdocs-gen-files>=0.5.0; extra == 'docs'
Requires-Dist: mkdocs-literate-nav>=0.6.1; extra == 'docs'
Requires-Dist: mkdocs-material>=9.5.3; extra == 'docs'
Requires-Dist: mkdocs>=1.5.3; extra == 'docs'
Requires-Dist: mkdocstrings-python>=1.7.5; extra == 'docs'
Requires-Dist: mkdocstrings>=0.24.0; extra == 'docs'
Requires-Dist: pymdown-extensions>=10.7; extra == 'docs'
Description-Content-Type: text/markdown

# homelab_config

[![âœ… Code Quality & Tests](https://github.com/shawndeng-homelab/homelab-config/actions/workflows/ci-tests.yaml/badge.svg)](https://github.com/shawndeng-homelab/homelab-config/actions/workflows/ci-tests.yaml)
[![ğŸš€ Release Build & Publish](https://github.com/shawndeng-homelab/homelab-config/actions/workflows/package-release.yaml/badge.svg)](https://github.com/shawndeng-homelab/homelab-config/actions/workflows/package-release.yaml)
[![ğŸ“š Deploy Documentation](https://github.com/shawndeng-homelab/homelab-config/actions/workflows/docs-deploy.yaml/badge.svg)](https://github.com/shawndeng-homelab/homelab-config/actions/workflows/docs-deploy.yaml)

ä¸€ä¸ªåŸºäº Consul çš„å®¶åº­å®éªŒå®¤é…ç½®ç®¡ç†å·¥å…·ï¼Œæä¾›ç¯å¢ƒæ„ŸçŸ¥å’Œç¼“å­˜åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸŒ å¤šç¯å¢ƒæ”¯æŒ (dev/staging/prod)
- ğŸ”’ å®‰å…¨çš„é…ç½®å­˜å‚¨å’Œè®¿é—®
- ğŸš€ é«˜æ€§èƒ½ç¼“å­˜æœºåˆ¶
- âš¡ çµæ´»çš„ Consul è¿æ¥ç®¡ç†
- ğŸ”„ è‡ªåŠ¨æ•…éšœè½¬ç§»æ”¯æŒ
- ğŸ“ å®Œæ•´çš„ç±»å‹æ³¨è§£æ”¯æŒ

## å®‰è£…

```bash
# ä½¿ç”¨ pip å®‰è£…
pip install homelab_config

# ä½¿ç”¨ uv å®‰è£…
uv pip install homelab_config
```

## å¿«é€Ÿå¼€å§‹

```python
from homelab_config import create_client

# åˆ›å»ºå®¢æˆ·ç«¯
client = create_client()

# è·å–é…ç½® (ä½¿ç”¨é»˜è®¤ç¯å¢ƒ)
config = client("app/myapp/config")

# è·å–ç‰¹å®šç¯å¢ƒçš„é…ç½®
dev_config = client("app/myapp/config,dev")
prod_config = client("app/myapp/config,prod")
```

## é…ç½®

æ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡è¿›è¡Œé…ç½®ï¼š

```bash
# è¿è¡Œç¯å¢ƒè®¾ç½®
HOMELAB_ENVIRONMENT=dev

# Consul æœåŠ¡å™¨åœ°å€ (æ”¯æŒå¤šä¸ªåœ°å€ï¼Œç”¨é€—å·åˆ†éš”)
HOMELAB_CONSUL_URLS=http://localhost:8500

# Consul è®¤è¯ä»¤ç‰Œ (å¯é€‰)
HOMELAB_CONSUL_TOKEN=your-token

# è¿æ¥ç¼“å­˜æ—¶é—´ (ç§’)
HOMELAB_CONSUL_CACHE_TTL=300
```
