# demo config.yaml

http_service:
  host: "0.0.0.0"
  port: 8001
  timeout_keep_alive: 600
  limit_concurrency: 64

thread_pool:
  max_workers: 64

api:
  retriever: build_query_op->recall_vector_store_op->rerank_experience_op->rewrite_experience_op
  summarizer: trajectory_preprocess_op->[success_extraction_op|failure_extraction_op|comparative_extraction_op]->experience_validation_op->experience_deduplication_op->update_vector_store_op
  vector_store: vector_store_action_op

op:
  # retriever ops
  build_query_op:
    backend: build_query_op
    vector_store: default

  recall_vector_store_op:
    backend: recall_vector_store_op
    vector_store: default

  rerank_experience_op:
    backend: rerank_experience_op
    llm: default
    params:
      enable_llm_rerank: true
      enable_score_filter: false
      top_k: 5

  rewrite_experience_op:
    backend: rewrite_experience_op
    llm: default
    params:
      enable_llm_rewrite: true

  #summarizer ops
  trajectory_preprocess_op:
    backend: trajectory_preprocess_op
    params:
      success_threshold: 1.0

  success_extraction_op:
    backend: success_extraction_op
    llm: default

  failure_extraction_op:
    backend: failure_extraction_op
    llm: default

  comparative_extraction_op:
    backend: comparative_extraction_op
    llm: default
    params:
      enable_soft_comparison: true

  experience_validation_op:
    backend: experience_validation_op
    llm: default
    params:
      validation_threshold: 0.5

  experience_deduplication_op:
    backend: experience_deduplication_op
    vector_store: default
    params:
      similarity_threshold: 0.5

  experience_storage_op:
    backend: experience_storage_op
    vector_store: default

  vector_store_action_op:
    backend: vector_store_action_op
    vector_store: default

  update_vector_store_op:
    backend: update_vector_store_op
    vector_store: default


llm:
  default:
    backend: openai_compatible
    model_name: qwen3-32b
    params:
      temperature: 0.6

embedding_model:
  default:
    backend: openai_compatible
    model_name: text-embedding-v4
    params:
      dimensions: 1024

vector_store:
  default:
    backend: local_file
    embedding_model: default
